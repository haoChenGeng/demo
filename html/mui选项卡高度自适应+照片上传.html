<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="pages/css/mui.min.css">
	<script src="pages/js/mui.min.js"></script>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<script src=""></script>
</head>
<body>
	<div class="mui-content">
	    <div class="mui-slider">		
			<div class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
				<a class="mui-control-item" href="#slider1">1</a>
				<a class="mui-control-item" href="#slider2">2</a>
				<a class="mui-control-item" href="#slider3">3</a>
			</div>
			<div class="mui-slider-progress-bar mui-col-xs-4"></div>
			
			<div class="mui-slider-group">
				<div id="slider1" class="mui-slider-item mui-control-content mui-active">11<br />22</div>
				<div id="slider2" class="mui-slider-item mui-control-content">22<br />22
				<br />22
				<br />22
				<br />22
				
				<br />22
				<br />22
				<br /><a href="http://www.baidu.com" target="_self">2323</a>
				
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />33
				<br />33
				<br />33
				<br />33
				<br />22
				<br />22
				<br />22
				
				<br />22
				<br />22
				<br />22
				
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />33
				<br />33
				<br />33
				<br />33
				</div>
				<div id="slider3" class="mui-slider-item mui-control-content">33<br />22
				<br />22
				<br />22
				<br />22
				
				<br />22
				<br />22
				<br />22
				
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />22
				<br />33
				<br />33
				<br />33
				<br />33</div>
			</div>
		</div>	
	</div>
	<input id="files" type="file" onchange="previewImage(this, 'prvid')" multiple="multiple">
	<div id="prvid">预览容器</div>
	<script type="text/javascript">

		function previewImage(file, prvid) {
		    /* file：file控件
		     * prvid: 图片预览容器
		     */
		    var tip = "Expect jpg or png or gif!"; // 设定提示信息
		    var filters = {
		        "jpeg"  : "/9j/4",
		        "gif"   : "R0lGOD",
		        "png"   : "iVBORw"
		    };
		    var prvbox = document.getElementById(prvid);
		    prvbox.innerHTML = "";
		    if (window.FileReader) { // html5方案
		        for (var i=0, f; f = file.files[i]; i++) {
		            var fr = new FileReader();
		            fr.onload = function(e) {
		                var src = e.target.result;
		                if (!validateImg(src)) {
		                    alert(tip);
		                } else {
		                    showPrvImg(src);
		                }
		            };
		            fr.readAsDataURL(f);
		        }
		    } else { // 降级处理
		        if ( !/\.jpg$|\.png$|\.gif$/i.test(file.value) ) {
		            alert(tip);
		        } else {
		            showPrvImg(file.value);
		        }
		    }
		 
		    function validateImg(data) {
		        var pos = data.indexOf(",") + 1;
		        for (var e in filters) {
		            if (data.indexOf(filters[e]) === pos) {
		                return e;
		            }
		        }
		        return null;
		    }
		 
		    function showPrvImg(src) {
		        var img = document.createElement("img");
		        img.src = src;
		        prvbox.appendChild(img);
		    }
		}
	</script>
</body>
</html>

